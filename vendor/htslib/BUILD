cc_library(
    name = "htslib",
    srcs = [
        "bcf_sr_sort.c",
        "bgzf.c",
        "cram/cram_codecs.c",
        "cram/cram_decode.c",
        "cram/cram_encode.c",
        "cram/cram_external.c",
        "cram/cram_index.c",
        "cram/cram_io.c",
        "cram/cram_samtools.c",
        "cram/cram_stats.c",
        "cram/files.c",
        "cram/mFILE.c",
        "cram/open_trace_file.c",
        "cram/pooled_alloc.c",
        "cram/rANS_static.c",
        "cram/sam_header.c",
        "cram/string_alloc.c",
        "errmod.c",
        "faidx.c",
        "hfile.c",
        "hfile_internal.h",
        "hfile_net.c",
        "hts.c",
        "hts_os.c",
        "kfunc.c",
        "knetfile.c",
        "kstring.c",
        "md5.c",
        "multipart.c",
        "plugin.c",
        "probaln.c",
        "realn.c",
        "regidx.c",
        "sam.c",
        "synced_bcf_reader.c",
        "tbx.c",
        "textutils.c",
        "thread_pool.c",
        "vcf.c",
        "vcf_sweep.c",
        "vcfutils.c",
    ],
    hdrs = glob(["**/*.h"] + ["*.h"]),
    copts = [
        "-Wno-unused-function",
        "-Wno-unused-variable",
        "-Wno-unused-but-set-variable",
        "-Wno-maybe-uninitialized",
        "-Wno-stringop-truncation",
    ],
    includes = [
        ".",
        "htslib",
    ],
    linkopts = [
        "-lz",
        "-lpthread",
    ],
    visibility = ["//visibility:public"],
    deps = ["@bzip2//:bzlib"],
)
